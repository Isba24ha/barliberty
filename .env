# PostgreSQL (Neon) Connection
DATABASE_URL="postgresql://neondb_owner:npg_SBPhYXJIe90N@ep-weathered-shape-adq5qznq.c-2.us-east-1.aws.neon.tech/neondb?sslmode=require&connect_timeout=5&pool_timeout=5"
PGHOST="ep-weathered-shape-adq5qznq.c-2.us-east-1.aws.neon.tech"
PGPORT="5432"
PGDATABASE="neondb"
PGUSER="neondb_owner"
PGPASSWORD="npg_SBPhYXJIe90N"
PGSSLMODE="require"  # Always use SSL

# Connection Pooling & Timeouts
DB_MAX_CONNECTIONS="10" # Optimal for Neon
DB_MIN_CONNECTIONS="2"  # Keep some warm connections
DB_CONNECTION_TIMEOUT="5000" # 5 seconds
DB_IDLE_TIMEOUT="30000" # 30 seconds
DB_STATEMENT_TIMEOUT="30000" # 30 seconds query timeout

# Neon-Specific Optimizations
NEON_PIPELINING="true" # Enable connection pipelining
NEON_CACHE_CONNECTIONS="true" # Cache connections when possible
NEON_WS_MAX_RETRIES="3" # WebSocket retry attempts
NEON_WS_RETRY_DELAY="1000" # 1 second between retries

# Server Configuration
PORT="3000"  # Default, Render will override
HOST="0.0.0.0" # Required for Render
NODE_ENV="production" # Set to 'development' locally
INSTANCE_ID="production-01" # For logging

# Performance Tuning
UV_THREADPOOL_SIZE="4" # Optimize for Windows
NODE_OPTIONS="--max-old-space-size=1024" # 1GB memory limit
GC_INTERVAL="5000" # GC interval in ms

# Session & Security
SESSION_SECRET="your-secure-session-secret-32-characters-minimum"
SESSION_COOKIE_SECURE="true"
SESSION_COOKIE_SAMESITE="lax" # 'strict' may break OAuth
SESSION_COOKIE_DOMAIN=".yourdomain.com" # Leading dot for subdomains
CSRF_SECRET="your-csrf-protection-secret"

# CORS & Frontend
CLIENT_URL="https://your-frontend-app.com"
ALLOWED_ORIGINS="https://your-frontend-app.com,http://localhost:5173"
TRUST_PROXY="1" # Important for Render

# Monitoring & Debugging
DEBUG="false" # Disable in production
LOG_LEVEL="info" # error, warn, info, debug
QUERY_TIMEOUT_WARNING="500" # Log slow queries >500ms

# Render-Specific (Will be auto-set)
RENDER_EXTERNAL_URL="https://your-service.onrender.com"
RENDER_INSTANCE_ID="your-instance-id"
RENDER_GIT_COMMIT="$(git rev-parse HEAD)"
